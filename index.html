<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–°—Ç—Ä–æ–π–ü–æ–∏—Å–∫ ‚Äî –Ω–∞–±–æ—Ä —Ä–∞–±–æ—á–∏—Ö –Ω–∞ —Å—Ç—Ä–æ–π–∫—É</title>
  <meta name="description" content="–ù–∞–±–æ—Ä —Ä–∞–±–æ—á–∏—Ö –Ω–∞ —Å—Ç—Ä–æ–π–∫—É: –≤–∞–∫–∞–Ω—Å–∏–∏, –≤–∞—Ö—Ç–∞/–ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ/–ø–∏—Ç–∞–Ω–∏–µ, –æ—Ç–∫–ª–∏–∫ —Ä–∞–±–æ—Ç–Ω–∏–∫–∞, –∫–æ–Ω—Ç–∞–∫—Ç—ã –∏ –∫–∞—Ä—Ç–∞." />
  <style>
    :root{
      --bg:#ffffff; --card:#ffffff; --text:#0f172a; --muted:#475569;
      --border:#e5e7eb; --soft:#f8fafc;
      --accent:#2563eb; --accent2:#16a34a; --danger:#dc2626;
      --shadow: 0 10px 25px rgba(2,6,23,.08);
      --shadow2: 0 6px 16px rgba(2,6,23,.06);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;
      color:var(--text);
      background: radial-gradient(900px 420px at 12% -10%, rgba(37,99,235,.10), transparent 60%),
                  radial-gradient(900px 420px at 88% -10%, rgba(22,163,74,.10), transparent 60%),
                  var(--bg);
      line-height:1.35;
    }
    a{color:inherit}
    .container{max-width:1180px;margin:0 auto;padding:0 18px}

    header{
      position:sticky; top:0; z-index:50;
      border-bottom:1px solid rgba(229,231,235,.75);
      background: rgba(255,255,255,.72);
      backdrop-filter: blur(10px);
    }
    .topbar{display:flex;align-items:center;justify-content:space-between;padding:12px 0;gap:10px;flex-wrap:wrap}
    .brand{display:flex;align-items:center;gap:12px;text-decoration:none}
    .logo{
      width:40px;height:40px;border-radius:14px;
      background: linear-gradient(135deg, rgba(37,99,235,1), rgba(22,163,74,1));
      box-shadow: 0 16px 34px rgba(37,99,235,.18);
    }
    .brand h1{font-size:14px;line-height:1;margin:0}
    .brand span{display:block;font-size:12px;color:var(--muted);font-weight:600;margin-top:2px}
    nav{display:flex;gap:6px;align-items:center;flex-wrap:wrap}
    nav button{
      border:0;background:transparent;cursor:pointer;
      font-size:13px;color:var(--muted);padding:8px 10px;border-radius:12px;font-weight:650;
    }
    nav button:hover{background:var(--soft);color:var(--text)}
    nav button.active{background: rgba(37,99,235,.10); color:var(--text)}

    .pill{
      display:inline-flex;align-items:center;gap:10px;
      padding:8px 12px;border:1px solid var(--border);border-radius:999px;
      background: rgba(255,255,255,.9);
      box-shadow: 0 1px 0 rgba(2,6,23,.03);
      color:var(--muted);font-size:13px;
    }
    .dot{width:8px;height:8px;border-radius:99px;background:var(--accent)}

    .btn{
      appearance:none;border:1px solid var(--border);background:var(--card);
      color:var(--text); padding:11px 14px;border-radius:14px;
      display:inline-flex;align-items:center;justify-content:center;gap:10px;
      cursor:pointer; font-weight:650; text-decoration:none;
      box-shadow: 0 1px 0 rgba(2,6,23,.03);
      transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease, background .12s ease;
      user-select:none;
    }
    .btn:hover{transform: translateY(-1px); box-shadow: var(--shadow2); border-color:#d1d5db;}
    .btn:active{transform: translateY(0px); box-shadow: 0 2px 8px rgba(2,6,23,.08);}
    .btn.primary{background:var(--accent); border-color:var(--accent); color:white;}
    .btn.good{background:var(--accent2); border-color:var(--accent2); color:white;}
    .btn.danger{background:#fff; border-color:#fecaca; color:var(--danger);}
    .btn.small{padding:9px 11px;border-radius:12px;font-size:13px;}
    .btn.icon{width:44px;height:44px;padding:0;border-radius:14px;}
    .btn[disabled]{opacity:.55;cursor:not-allowed;transform:none;box-shadow:none}

    .input, select, textarea{
      width:100%; border:1px solid var(--border); border-radius:14px;
      padding:12px 12px; background:#fff; font:inherit; outline:none;
      transition: border-color .12s ease, box-shadow .12s ease;
    }
    .input:focus, select:focus, textarea:focus{
      border-color: rgba(37,99,235,.55);
      box-shadow: 0 0 0 4px rgba(37,99,235,.12);
    }
    textarea{min-height: 96px; resize: vertical}

    section{padding:18px 0 22px}
    .panel{
      border:1px solid var(--border);
      border-radius: var(--radius);
      background: rgba(255,255,255,.92);
      box-shadow: var(--shadow2);
      padding:14px;
    }

    .hero{padding:26px 0 10px}
    .hero-grid{display:grid; gap:18px; grid-template-columns: 1.2fr .8fr; align-items:stretch;}
    @media (max-width: 920px){ .hero-grid{grid-template-columns: 1fr;} }
    .hero-card{
      border:1px solid var(--border);
      border-radius: var(--radius);
      background: rgba(255,255,255,.84);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .hero-card .img{height:200px;background:#f1f5f9;background-size:cover;background-position:center}
    .hero-card .inner{padding:18px}
    .hero-title{font-size:34px;line-height:1.05;margin:6px 0 10px}
    .hero-sub{color:var(--muted);font-weight:550;margin:0 0 14px}
    .hero-actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}

    .mini{
      border:1px solid var(--border); border-radius: var(--radius);
      background: rgba(255,255,255,.84);
      box-shadow: var(--shadow2);
      padding:14px;
    }
    .mini h3{margin:0 0 8px;font-size:14px}
    .mini p{margin:0;color:var(--muted);font-size:13px}
    .mini .row{display:flex;gap:10px;align-items:center;justify-content:space-between;margin-top:10px;flex-wrap:wrap}
    .badge{
      display:inline-flex;gap:8px;align-items:center;
      font-size:12px; color:var(--muted);
      border:1px solid var(--border); border-radius:999px;
      padding:6px 10px;background:var(--soft);
    }

    .section-head{display:flex;align-items:flex-end;justify-content:space-between;gap:12px;margin:6px 0 12px;flex-wrap:wrap}
    .section-head h2{margin:0;font-size:18px}
    .section-head p{margin:0;color:var(--muted);font-size:13px}

    .chips{display:flex;flex-wrap:wrap;gap:8px;margin-top:12px}
    .chip{
      border:1px solid var(--border); background:#fff;
      padding:9px 12px; border-radius:999px;
      cursor:pointer; font-weight:650; font-size:13px; color:var(--muted);
      user-select:none; transition: background .12s ease, border-color .12s ease, transform .12s ease;
    }
    .chip:hover{transform: translateY(-1px); background:var(--soft); border-color:#d1d5db; color:var(--text)}
    .chip.active{background: rgba(37,99,235,.10); border-color: rgba(37,99,235,.25); color: var(--text)}

    .searchbar{
      display:grid;
      grid-template-columns: 1.2fr .8fr .8fr .8fr auto;
      gap:10px; margin-top:12px;
    }
    @media (max-width: 1020px){
      .searchbar{grid-template-columns: 1fr 1fr; }
      .searchbar .wide{grid-column: 1 / -1;}
      .searchbar .wide2{grid-column: 1 / -1;}
    }

    .filters-row{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center;
      margin-top:10px;
    }
    .check{
      display:inline-flex; align-items:center; gap:8px;
      border:1px solid var(--border);
      background:#fff;
      border-radius:999px;
      padding:8px 12px;
      font-weight:650;
      color:var(--muted);
      cursor:pointer;
      user-select:none;
    }
    .check input{accent-color: var(--accent);}

    .grid{display:grid;grid-template-columns: repeat(3, 1fr);gap:12px;}
    @media (max-width: 980px){.grid{grid-template-columns: repeat(2,1fr)}}
    @media (max-width: 620px){.grid{grid-template-columns: 1fr}}

    .card{
      border:1px solid var(--border);
      border-radius: var(--radius);
      background: rgba(255,255,255,.92);
      box-shadow: var(--shadow2);
      overflow:hidden;
      display:flex;
      flex-direction:column;
      min-height: 320px;
    }
    .card .img{height:150px;background:#f1f5f9;background-size:cover;background-position:center}
    .card .body{padding:14px;display:flex;flex-direction:column;gap:10px;flex:1}
    .row{display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap}
    .name{font-weight:800;font-size:15px;margin:0}
    .meta{color:var(--muted);font-size:13px;margin:0}
    .tagline{font-size:13px;color:var(--muted);margin:0}
    .kpis{display:flex;gap:8px;flex-wrap:wrap}
    .kpi{
      font-size:12px;color:var(--muted);
      border:1px solid var(--border);
      border-radius:999px;
      padding:6px 10px;
      background: var(--soft);
      display:inline-flex;gap:6px;align-items:center;
    }
    .card .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:auto}

    .table-wrap{overflow:auto;border:1px solid var(--border);border-radius: var(--radius);background:#fff}
    table{width:100%;border-collapse:collapse;min-width:860px}
    th,td{padding:12px;border-bottom:1px solid var(--border);text-align:left;font-size:13px}
    th{background:var(--soft);font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:.06em}
    tr:hover td{background: rgba(2,6,23,.02)}
    .money{font-weight:800}

    footer{
      border-top:1px solid rgba(229,231,235,.9);
      padding:18px 0 26px;
      background: rgba(255,255,255,.7);
      backdrop-filter: blur(10px);
    }
    .footer-grid{display:grid; gap:12px; grid-template-columns: 1fr 1fr 1fr;}
    @media (max-width: 980px){.footer-grid{grid-template-columns:1fr}}
    .muted{color:var(--muted)}
    .contact-links{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}

    /* Modal */
    .modal-backdrop{
      position:fixed; inset:0;
      background: rgba(2,6,23,.55);
      display:none;
      align-items:center; justify-content:center;
      padding:16px;
      z-index:100;
    }
    .modal{
      width:min(980px, 100%);
      border-radius: 22px;
      background: #fff;
      border:1px solid rgba(229,231,235,.9);
      box-shadow: 0 30px 80px rgba(2,6,23,.25);
      overflow:hidden;
      transform: translateY(8px);
      opacity:0;
      transition: transform .18s ease, opacity .18s ease;
    }
    .modal.show{transform: translateY(0); opacity:1;}
    .modal .top{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px; border-bottom:1px solid var(--border);
      background: linear-gradient(180deg, rgba(248,250,252,.95), rgba(255,255,255,.92));
    }
    .modal .content{display:grid;grid-template-columns: .95fr 1.05fr; gap:0}
    @media (max-width: 900px){.modal .content{grid-template-columns:1fr}}
    .modal .photo{min-height:240px;background:#f1f5f9;background-size:cover;background-position:center}
    .modal .info{padding:14px;display:flex;flex-direction:column;gap:10px}
    .modal .info h3{margin:0;font-size:18px}
    .modal .info .sub{margin:0;color:var(--muted);font-size:13px}
    .modal .info .bullets{margin:0;padding-left:18px;color:var(--muted);font-size:13px}
    .modal .cols{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    @media (max-width: 900px){.modal .cols{grid-template-columns:1fr}}
    .modal .bottom{
      display:flex;gap:10px;flex-wrap:wrap;
      padding:14px;border-top:1px solid var(--border);
      background:#fff;
    }

    /* Toast */
    .toast{
      position: fixed; right: 16px; bottom: 16px; z-index: 120;
      max-width: 420px; display:flex; flex-direction:column; gap:10px;
    }
    .toast .t{
      border:1px solid var(--border); background:#fff;
      border-radius: 16px; padding:12px 12px;
      box-shadow: var(--shadow);
      display:flex; align-items:flex-start; gap:10px;
    }
    .toast .t strong{display:block}
    .toast .t p{margin:2px 0 0;color:var(--muted);font-size:13px}
    .toast .bar{width:10px;border-radius:999px;background:var(--accent); box-shadow: 0 12px 30px rgba(37,99,235,.22);}

    .hide{display:none !important;}
    .hr{height:1px;background:var(--border);border:0;margin:10px 0}

    .map-wrap{
      border:1px solid var(--border);
      border-radius: var(--radius);
      overflow:hidden;
      background:#fff;
      box-shadow: var(--shadow2);
      height: 380px;
    }
    .map-wrap iframe{width:100%;height:100%;border:0}
    .note{font-size:13px;color:var(--muted);margin:0}

    .apply-banner{
      border:1px solid rgba(37,99,235,.25);
      background: rgba(37,99,235,.06);
      border-radius: var(--radius);
      padding:12px;
      display:flex;
      gap:10px;
      align-items:flex-start;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    .apply-banner b{display:block}
  </style>
</head>

<body>
<header>
  <div class="container">
    <div class="topbar">
      <a class="brand" href="#" id="brandGoHome">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>–°—Ç—Ä–æ–π–ü–æ–∏—Å–∫</h1>
          <span>–ù–∞–±–æ—Ä —Ä–∞–±–æ—á–∏—Ö ‚Ä¢ –≤–∞–∫–∞–Ω—Å–∏–∏ ‚Ä¢ —Å—Ç—Ä–æ–π–∫–∞</span>
        </div>
      </a>

      <nav>
        <button class="active" data-page="home">–ì–ª–∞–≤–Ω–∞—è</button>
        <button data-page="jobs">–í–∞–∫–∞–Ω—Å–∏–∏</button>
        <button data-page="apply">–û—Ç–∫–ª–∏–∫ —Ä–∞–±–æ—Ç–Ω–∏–∫–∞</button>
        <button data-page="contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</button>
      </nav>
    </div>
  </div>
</header>

<main class="container">

  <!-- ===== HOME ===== -->
  <div id="page-home">
    <div class="hero">
      <div class="hero-grid">
        <div class="hero-card">
          <div class="img" id="heroImg" role="img" aria-label="–ë–∞–Ω–Ω–µ—Ä"></div>
          <div class="inner">
            <div class="pill"><span class="dot"></span> –û—Ç–∫—Ä—ã—Ç–æ –≤–∞–∫–∞–Ω—Å–∏–π: <b id="countJobs">0</b></div>
            <h2 class="hero-title">–ù–∞–±–∏—Ä–∞–µ–º —Ä–∞–±–æ—á–∏—Ö –Ω–∞ –æ–±—ä–µ–∫—Ç—ã</h2>
            <p class="hero-sub">
              –í–∞–∫–∞–Ω—Å–∏–∏ –ø–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏—è–º, —Å—Ç–∞–≤–∫–∏ –∏ —É—Å–ª–æ–≤–∏—è. –ï—Å—Ç—å –≤–∞—Ö—Ç–∞, –ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ –∏ –ø–∏—Ç–∞–Ω–∏–µ (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–±—ä–µ–∫—Ç–∞).
              –û—Å—Ç–∞–≤—å –æ—Ç–∫–ª–∏–∫ ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É.
            </p>

            <div class="hero-actions">
              <button class="btn primary" data-page="jobs">–°–º–æ—Ç—Ä–µ—Ç—å –≤–∞–∫–∞–Ω—Å–∏–∏</button>
              <button class="btn good" data-page="apply">–û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è</button>
              <button class="btn" data-page="contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã + –∫–∞—Ä—Ç–∞</button>
            </div>

            <div style="margin-top:12px" class="kpis">
              <span class="kpi">üß≥ –í–∞—Ö—Ç–∞</span>
              <span class="kpi">üè† –ü—Ä–æ–∂–∏–≤–∞–Ω–∏–µ</span>
              <span class="kpi">üç≤ –ü–∏—Ç–∞–Ω–∏–µ</span>
              <span class="kpi">üìÑ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã</span>
            </div>
          </div>
        </div>

        <div style="display:flex;flex-direction:column;gap:12px">
          <div class="mini">
            <h3>–ú–µ–Ω–µ–¥–∂–µ—Ä—ã –ø–æ –ø–æ–¥–±–æ—Ä—É –ø–µ—Ä—Å–æ–Ω–∞–ª–∞</h3>
            <p class="note"><b>–ö–∞–∑–∞–∫–æ–≤ –ú–∞–∫—Å–∏–º –ù–∏–∫–æ–ª–∞–µ–≤–∏—á</b> ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä –ø–æ –ø–æ–¥–±–æ—Ä—É –ø–µ—Ä—Å–æ–Ω–∞–ª–∞</p>
            <p class="note" style="margin-top:6px"><b>–ö–æ–Ω–¥—Ä–∞—à–æ–Ω–æ–∫ –°–∞–≤–≤–∞ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á</b> ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä –ø–æ –ø–æ–¥–±–æ—Ä—É –ø–µ—Ä—Å–æ–Ω–∞–ª–∞</p>

            <div class="contact-links" style="margin-top:10px">
              <button class="btn small" data-page="contacts">üìû –ë—ã—Å—Ç—Ä–∞—è —Å–≤—è–∑—å</button>
              <a class="btn small" href="https://wa.me/79525661310" target="_blank" rel="noreferrer">üí¨ WhatsApp</a>
              <a class="btn small" href="https://t.me/+79525661310" target="_blank" rel="noreferrer">üì® Telegram</a>
              <a class="btn small" href="mailto:aleks_K_20@mail.ru">‚úâÔ∏è Email</a>
            </div>
          </div>

          <div class="mini">
            <h3>–ö–∞–∫ –æ—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è</h3>
            <p>1) –í—ã–±–µ—Ä–∏ –≤–∞–∫–∞–Ω—Å–∏—é ‚Üí 2) ‚Äú–û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è‚Äù ‚Üí 3) –í —Ñ–æ—Ä–º–µ —É–∂–µ –±—É–¥–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω–∞—è –≤–∞–∫–∞–Ω—Å–∏—è ‚Üí 4) –û—Å—Ç–∞–≤—å —Ç–µ–ª–µ—Ñ–æ–Ω.</p>
            <div class="row">
              <span class="badge">‚ö° –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ</span>
              <span class="badge">‚úÖ –ü—Ä–æ—Å—Ç–æ</span>
              <span class="badge">üìû –ü–µ—Ä–µ–∑–≤–æ–Ω–∏–º</span>
            </div>
          </div>

          <div class="mini">
            <h3>–ö–∞—Ä—Ç–∏–Ω–∫–∏ –¥–ª—è GitHub</h3>
            <p>–ï—Å–ª–∏ –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö –Ω–µ—Ç –∫–∞—Ä—Ç–∏–Ω–æ–∫ ‚Äî –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å –ø–∞–ø–∫–∞ <b>images/</b> –∏ —Ñ–∞–π–ª—ã –≤–Ω—É—Ç—Ä–∏.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== JOBS ===== -->
  <div id="page-jobs" class="hide">
    <section>
      <div class="section-head">
        <div>
          <h2>–í–∞–∫–∞–Ω—Å–∏–∏</h2>
          <p>–§–∏–ª—å—Ç—Ä—ã –ø–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏/—Ç–∏–ø—É + ‚Äú–≤–∞—Ö—Ç–∞/–ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ/–ø–∏—Ç–∞–Ω–∏–µ‚Äù.</p>
        </div>
        <div class="kpis">
          <span class="kpi">üìå –ü–æ–∫–∞–∑–∞–Ω–æ: <b id="shownJobs">0</b></span>
          <span class="kpi">üí∞ –ú–∏–Ω/–º–∞–∫—Å: <b id="minMax">‚Äî</b></span>
        </div>
      </div>

      <div class="panel">
        <div class="searchbar">
          <input id="q" class="input wide" placeholder="–ü–æ–∏—Å–∫: –ø—Ä–æ—Ñ–µ—Å—Å–∏—è, –æ–±—ä–µ–∫—Ç, —É—Å–ª–æ–≤–∏—è, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è‚Ä¶" />
          <select id="profession"></select>
          <select id="employmentType"></select>
          <select id="sort">
            <option value="pay_desc">–°—Ç–∞–≤–∫–∞ (—Å–Ω–∞—á–∞–ª–∞ –≤—ã—à–µ)</option>
            <option value="pay_asc">–°—Ç–∞–≤–∫–∞ (—Å–Ω–∞—á–∞–ª–∞ –Ω–∏–∂–µ)</option>
            <option value="type">–¢–∏–ø –∑–∞–Ω—è—Ç–æ—Å—Ç–∏</option>
          </select>
          <button id="resetFilters" class="btn">–°–±—Ä–æ—Å</button>
        </div>

        <div class="filters-row wide2">
          <label class="check"><input type="checkbox" id="fVakh" /> üß≥ –¢–æ–ª—å–∫–æ –≤–∞—Ö—Ç–∞</label>
          <label class="check"><input type="checkbox" id="fHousing" /> üè† –° –ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ–º</label>
          <label class="check"><input type="checkbox" id="fMeals" /> üç≤ –° –ø–∏—Ç–∞–Ω–∏–µ–º</label>
          <span class="pill"><span class="dot"></span> –ù–∞–∂–º–∏ ‚Äú–ü–æ–¥—Ä–æ–±–Ω–µ–µ‚Äù ‚Üí —É–≤–∏–¥–∏—à—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã</span>
        </div>

        <div class="chips" id="chips"></div>
      </div>

      <div style="height:12px"></div>
      <div class="grid" id="jobsGrid"></div>
    </section>

    <section>
      <div class="section-head">
        <div>
          <h2>–°—Ç–∞–≤–∫–∏ –∏ —É—Å–ª–æ–≤–∏—è</h2>
          <p>–û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é —Å—Ç–∞–≤–∫–∏.</p>
        </div>
      </div>

      <div class="panel">
        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th>–ü—Ä–æ—Ñ–µ—Å—Å–∏—è</th>
                <th>–¢–∏–ø</th>
                <th>–°—Ç–∞–≤–∫–∞</th>
                <th>–û–±—ä–µ–∫—Ç</th>
                <th>–í–∞—Ö—Ç–∞</th>
                <th>–ü—Ä–æ–∂–∏–≤–∞–Ω–∏–µ</th>
                <th>–ü–∏—Ç–∞–Ω–∏–µ</th>
              </tr>
            </thead>
            <tbody id="ratesBody"></tbody>
          </table>
        </div>
      </div>
    </section>
  </div>

  <!-- ===== APPLY ===== -->
  <div id="page-apply" class="hide">
    <section>
      <div class="section-head">
        <div>
          <h2>–û—Ç–∫–ª–∏–∫ —Ä–∞–±–æ—Ç–Ω–∏–∫–∞</h2>
          <p>Telegram/WhatsApp –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞.</p>
        </div>
        <div class="pill"><span class="dot"></span> –î–µ–º–æ (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ)</div>
      </div>

      <div class="panel">
        <div id="applyBanner" class="apply-banner hide">
          <div>
            <b id="applyJobTitle">–í—ã –æ—Ç–∫–ª–∏–∫–∞–µ—Ç–µ—Å—å –Ω–∞: ‚Äî</b>
            <div class="muted" id="applyJobMeta">‚Äî</div>
          </div>
          <button class="btn small" id="clearSelectedJob">–°–Ω—è—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∞–∫–∞–Ω—Å–∏—é</button>
        </div>

        <div style="height:10px"></div>

        <form id="applyForm">
          <input type="hidden" id="selectedJobId" value="" />

          <div class="grid" style="grid-template-columns:repeat(3,1fr)">
            <div>
              <label class="note" for="aName">–§–ò–û</label>
              <input id="aName" class="input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω" required />
            </div>
            <div>
              <label class="note" for="aPhone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
              <input id="aPhone" class="input" placeholder="+7 999 000-00-00" required />
            </div>
            <div>
              <label class="note" for="aEmail">–ü–æ—á—Ç–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)</label>
              <input id="aEmail" class="input" type="email" placeholder="worker@mail.ru" />
            </div>
          </div>

          <div class="grid" style="grid-template-columns:repeat(3,1fr); margin-top:10px">
            <div>
              <label class="note" for="aProf">–ü—Ä–æ—Ñ–µ—Å—Å–∏—è</label>
              <select id="aProf" required></select>
            </div>
            <div>
              <label class="note" for="aExp">–û–ø—ã—Ç</label>
              <select id="aExp" required>
                <option>–ë–µ–∑ –æ–ø—ã—Ç–∞</option>
                <option>1 –≥–æ–¥</option>
                <option>2 –≥–æ–¥–∞</option>
                <option>3 –≥–æ–¥–∞</option>
                <option>4 –≥–æ–¥–∞</option>
                <option>5 –ª–µ—Ç</option>
                <option>6+ –ª–µ—Ç</option>
              </select>
            </div>
            <div>
              <label class="note" for="aCity">–ì–æ—Ä–æ–¥</label>
              <input id="aCity" class="input" placeholder="–ú–æ—Å–∫–≤–∞" required />
            </div>
          </div>

          <div class="grid" style="grid-template-columns:repeat(3,1fr); margin-top:10px">
            <div>
              <label class="note" for="aType">–¢–∏–ø –∑–∞–Ω—è—Ç–æ—Å—Ç–∏</label>
              <select id="aType" required>
                <option>–ü–æ–ª–Ω—ã–π –¥–µ–Ω—å</option>
                <option>–í–∞—Ö—Ç–∞</option>
                <option>–ü–æ–¥—Ä–∞–±–æ—Ç–∫–∞</option>
                <option>–°–º–µ–Ω–Ω—ã–π</option>
              </select>
            </div>
            <div>
              <label class="note" for="aStart">–ö–æ–≥–¥–∞ –≥–æ—Ç–æ–≤ –≤—ã–π—Ç–∏</label>
              <select id="aStart" required>
                <option>–°–µ–≥–æ–¥–Ω—è</option>
                <option>–ó–∞–≤—Ç—Ä–∞</option>
                <option>–ù–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ</option>
                <option>–ß–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é+</option>
              </select>
            </div>
            <div>
              <label class="note" for="aMgr">–ú–µ–Ω–µ–¥–∂–µ—Ä</label>
              <select id="aMgr" required>
                <option value="maxim">–ö–∞–∑–∞–∫–æ–≤ –ú–∞–∫—Å–∏–º –ù.</option>
                <option value="savva">–ö–æ–Ω–¥—Ä–∞—à–æ–Ω–æ–∫ –°–∞–≤–≤–∞ –ê.</option>
              </select>
            </div>
          </div>

          <div style="margin-top:10px">
            <label class="note" for="aAbout">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–∞–≤—ã–∫–∏/–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç/–¥–æ–∫—É–º–µ–Ω—Ç—ã)</label>
            <textarea id="aAbout" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –µ—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –≥–æ—Ç–æ–≤ –Ω–∞ –≤–∞—Ö—Ç—É, –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–∞ —Ä—É–∫–∞—Ö..."></textarea>
          </div>

          <div class="row" style="margin-top:12px">
            <div class="kpis">
              <span class="kpi">üìû –¢–µ–ª–µ—Ñ–æ–Ω –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω</span>
              <span class="kpi">üß≥ –í–∞—Ö—Ç–∞ –ø–æ –∂–µ–ª–∞–Ω–∏—é</span>
              <span class="kpi">‚úÖ –ú–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è</span>
            </div>
            <div class="row">
              <button class="btn" type="button" id="fillApplyDemo">–ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–∏–º–µ—Ä</button>
              <button class="btn primary" type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–∫–ª–∏–∫</button>
            </div>
          </div>
        </form>

        <hr class="hr"/>

        <div class="section-head" style="margin-top:0">
          <div>
            <h2>–û—Ç–∫–ª–∏–∫–∏ (–¥–µ–º–æ)</h2>
            <p>–ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –æ—Ç–∫–ª–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –Ω–∞ —Å–∞–π—Ç–µ (localStorage).</p>
          </div>
          <div class="row">
            <button class="btn small danger" id="clearApplies">–û—á–∏—Å—Ç–∏—Ç—å –æ—Ç–∫–ª–∏–∫–∏</button>
          </div>
        </div>

        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th>–§–ò–û</th>
                <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                <th>–í–∞–∫–∞–Ω—Å–∏—è</th>
                <th>–ü—Ä–æ—Ñ–µ—Å—Å–∏—è</th>
                <th>–û–ø—ã—Ç</th>
                <th>–ì–æ—Ä–æ–¥</th>
                <th>–¢–∏–ø</th>
                <th>–°—Ç–∞—Ä—Ç</th>
                <th>–ú–µ–Ω–µ–¥–∂–µ—Ä</th>
              </tr>
            </thead>
            <tbody id="appliesBody"></tbody>
          </table>
        </div>
      </div>
    </section>
  </div>

  <!-- ===== CONTACTS ===== -->
  <div id="page-contacts" class="hide">
    <section>
      <div class="section-head">
        <div>
          <h2>–ö–æ–Ω—Ç–∞–∫—Ç—ã –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –∏ –∫–∞—Ä—Ç–∞</h2>
          <p>–°–≤—è–∑—å —á–µ—Ä–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω, Telegram, WhatsApp + —Ä–∞–±–æ—á–∞—è –ø–æ—á—Ç–∞.</p>
        </div>
      </div>

      <div class="panel">
        <div class="grid" style="grid-template-columns:repeat(2,1fr)">
          <div class="panel" style="padding:14px">
            <p style="margin:0"><b>–ö–∞–∑–∞–∫–æ–≤ –ú–∞–∫—Å–∏–º –ù–∏–∫–æ–ª–∞–µ–≤–∏—á</b></p>
            <p class="note" style="margin-top:6px">–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ –ø–æ–¥–±–æ—Ä—É –ø–µ—Ä—Å–æ–Ω–∞–ª–∞</p>
            <p class="note" style="margin-top:6px"><b>–¢–µ–ª:</b> <span class="muted">+7 952 566-13-10</span></p>
            <div class="contact-links">
              <a class="btn small" href="tel:+79525661310">üìû –ü–æ–∑–≤–æ–Ω–∏—Ç—å</a>
              <a class="btn small" href="https://wa.me/79525661310" target="_blank" rel="noreferrer">üí¨ WhatsApp</a>
              <a class="btn small" href="https://t.me/+79525661310" target="_blank" rel="noreferrer">üì® Telegram</a>
            </div>
          </div>

          <div class="panel" style="padding:14px">
            <p style="margin:0"><b>–ö–æ–Ω–¥—Ä–∞—à–æ–Ω–æ–∫ –°–∞–≤–≤–∞ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á</b></p>
            <p class="note" style="margin-top:6px">–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ –ø–æ–¥–±–æ—Ä—É –ø–µ—Ä—Å–æ–Ω–∞–ª–∞</p>
            <p class="note" style="margin-top:6px"><b>–¢–µ–ª:</b> <span class="muted">+7 964 623-00-37</span></p>
            <div class="contact-links">
              <a class="btn small" href="tel:+79646230037">üìû –ü–æ–∑–≤–æ–Ω–∏—Ç—å</a>
              <a class="btn small" href="https://wa.me/79646230037" target="_blank" rel="noreferrer">üí¨ WhatsApp</a>
              <a class="btn small" href="https://t.me/+79646230037" target="_blank" rel="noreferrer">üì® Telegram</a>
            </div>
          </div>
        </div>

        <hr class="hr"/>

        <p style="margin:0"><b>–†–∞–±–æ—á–∞—è –ø–æ—á—Ç–∞:</b> <span class="muted">aleks_K_20@mail.ru</span></p>
        <div class="contact-links">
          <a class="btn" href="mailto:aleks_K_20@mail.ru">‚úâÔ∏è –ù–∞–ø–∏—Å–∞—Ç—å –Ω–∞ Email</a>
        </div>

        <hr class="hr"/>

        <p class="note" style="margin:0 0 10px">
          <b>–Ø–Ω–¥–µ–∫—Å –∫–∞—Ä—Ç–∞:</b> —Å–µ–π—á–∞—Å –ø—Ä–∏–º–µ—Ä (—Ü–µ–Ω—Ç—Ä –ú–æ—Å–∫–≤—ã). –ú–æ–∂–µ—à—å –∑–∞–º–µ–Ω–∏—Ç—å iframe –Ω–∞ —Å–≤–æ—é —Ç–æ—á–∫—É.
        </p>

        <div class="map-wrap" aria-label="–Ø–Ω–¥–µ–∫—Å –∫–∞—Ä—Ç–∞">
          <iframe
            src="https://yandex.ru/map-widget/v1/?ll=37.617635%2C55.755814&z=12"
            allowfullscreen="true"
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            title="–Ø–Ω–¥–µ–∫—Å –ö–∞—Ä—Ç–∞">
          </iframe>
        </div>
      </div>
    </section>
  </div>

</main>

<footer>
  <div class="container">
    <div class="footer-grid">
      <div>
        <p style="margin:0"><b>–°—Ç—Ä–æ–π–ü–æ–∏—Å–∫</b></p>
        <p class="muted" style="margin:8px 0 0;font-size:13px">–°–∞–π—Ç –¥–ª—è –Ω–∞–±–æ—Ä–∞ —Ä–∞–±–æ—á–∏—Ö –Ω–∞ –æ–±—ä–µ–∫—Ç—ã.</p>
      </div>
      <div>
        <p style="margin:0"><b>–†–∞–∑–¥–µ–ª—ã</b></p>
        <p class="muted" style="margin:8px 0 0;font-size:13px">–ì–ª–∞–≤–Ω–∞—è ‚Ä¢ –í–∞–∫–∞–Ω—Å–∏–∏ ‚Ä¢ –û—Ç–∫–ª–∏–∫ ‚Ä¢ –ö–æ–Ω—Ç–∞–∫—Ç—ã</p>
      </div>
      <div>
        <p style="margin:0"><b>–ü–æ—á—Ç–∞</b></p>
        <p class="muted" style="margin:8px 0 0;font-size:13px">aleks_K_20@mail.ru</p>
      </div>
    </div>
  </div>
</footer>

<!-- ===== Modal Job ===== -->
<div class="modal-backdrop" id="modalBackdrop" aria-hidden="true">
  <div class="modal" id="modal" role="dialog" aria-modal="true" aria-label="–í–∞–∫–∞–Ω—Å–∏—è">
    <div class="top">
      <div class="pill"><span class="dot"></span> –í–∞–∫–∞–Ω—Å–∏—è</div>
      <button class="btn icon" id="closeModal" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
    </div>
    <div class="content">
      <div class="photo" id="modalPhoto"></div>
      <div class="info">
        <h3 id="modalTitle">‚Äî</h3>
        <p class="sub" id="modalSub">‚Äî</p>
        <div class="kpis" id="modalKpis"></div>
        <p class="tagline" id="modalAbout">‚Äî</p>

        <div class="cols">
          <div class="panel" style="padding:12px">
            <p class="note" style="margin:0 0 8px"><b>–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è</b></p>
            <ul class="bullets" id="modalReq"></ul>
          </div>
          <div class="panel" style="padding:12px">
            <p class="note" style="margin:0 0 8px"><b>–î–æ–∫—É–º–µ–Ω—Ç—ã</b></p>
            <ul class="bullets" id="modalDocs"></ul>
          </div>
        </div>

        <div class="panel" style="padding:12px">
          <p class="note" style="margin:0 0 8px"><b>–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞</b></p>
          <select id="managerSelect" class="input" style="max-width:360px">
            <option value="maxim">–ö–∞–∑–∞–∫–æ–≤ –ú–∞–∫—Å–∏–º –ù–∏–∫–æ–ª–∞–µ–≤–∏—á</option>
            <option value="savva">–ö–æ–Ω–¥—Ä–∞—à–æ–Ω–æ–∫ –°–∞–≤–≤–∞ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á</option>
          </select>
          <p class="note" style="margin-top:8px">–ò–ª–∏ –Ω–∞–∂–º–∏—Ç–µ ‚Äú–û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è‚Äù ‚Äî –≤–∞–∫–∞–Ω—Å–∏—è –ø–µ—Ä–µ–Ω–µ—Å—ë—Ç—Å—è –≤ —Ñ–æ—Ä–º—É.</p>
        </div>
      </div>
    </div>
    <div class="bottom">
      <button class="btn good" id="goApplyBtn">–û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è</button>
      <a class="btn" id="mgrCallBtn" href="#">üìû –ü–æ–∑–≤–æ–Ω–∏—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä—É</a>
      <a class="btn" id="mgrWaBtn" href="#" target="_blank" rel="noreferrer">üí¨ WhatsApp</a>
      <a class="btn" id="mgrTgBtn" href="#" target="_blank" rel="noreferrer">üì® Telegram</a>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script>
  const APPLIES_KEY = "stroypoisk_applies_v2";

  const managers = {
    maxim: { name:"–ö–∞–∑–∞–∫–æ–≤ –ú–∞–∫—Å–∏–º –ù–∏–∫–æ–ª–∞–µ–≤–∏—á", phone:"+79525661310", wa:"https://wa.me/79525661310", tg:"https://t.me/+79525661310" },
    savva: { name:"–ö–æ–Ω–¥—Ä–∞—à–æ–Ω–æ–∫ –°–∞–≤–≤–∞ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á", phone:"+79646230037", wa:"https://wa.me/79646230037", tg:"https://t.me/+79646230037" }
  };

  // –ö–∞—Ä—Ç–∏–Ω–∫–∏ (–æ—Å—Ç–∞–≤—å —Å–≤–æ–∏ –∏–º–µ–Ω–∞ –∏–∑ –ø–∞–ø–∫–∏ images/)
  const images = {
    hero: "images/scene_hero.png",
    jobsFallback: ["images/scene_site.png","images/scene_quality.png","images/scene_register.png","images/scene_contacts.png"],
    prof: {
      "–†–∞–∑–Ω–æ—Ä–∞–±–æ—á–∏–π": "images/portrait_raborab.png",
      "–ü–ª–∏—Ç–æ—á–Ω–∏–∫": "images/portrait_tile.png",
      "–≠–ª–µ–∫—Ç—Ä–∏–∫": "images/portrait_electric.png",
      "–°–∞–Ω—Ç–µ—Ö–Ω–∏–∫": "images/portrait_plumber.png",
      "–ú–∞–ª—è—Ä": "images/portrait_painter.png",
      "–ö—Ä–æ–≤–µ–ª—å—â–∏–∫": "images/portrait_roofer.png",
      "–ü–ª–æ—Ç–Ω–∏–∫": "images/portrait_raborab.png",
      "–ú–æ–Ω—Ç–∞–∂–Ω–∏–∫": "images/portrait_raborab.png",
      "–®—Ç—É–∫–∞—Ç—É—Ä": "images/portrait_painter.png",
      "–°–≤–∞—Ä—â–∏–∫": "images/portrait_electric.png"
    }
  };

  const professionList = ["–í—Å–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏","–†–∞–∑–Ω–æ—Ä–∞–±–æ—á–∏–π","–ü–ª–∏—Ç–æ—á–Ω–∏–∫","–ú–∞–ª—è—Ä","–≠–ª–µ–∫—Ç—Ä–∏–∫","–°–∞–Ω—Ç–µ—Ö–Ω–∏–∫","–ö—Ä–æ–≤–µ–ª—å—â–∏–∫","–ü–ª–æ—Ç–Ω–∏–∫","–ú–æ–Ω—Ç–∞–∂–Ω–∏–∫","–®—Ç—É–∫–∞—Ç—É—Ä","–°–≤–∞—Ä—â–∏–∫"];
  const typeList = ["–í—Å–µ —Ç–∏–ø—ã","–ü–æ–ª–Ω—ã–π –¥–µ–Ω—å","–°–º–µ–Ω–Ω—ã–π","–ü–æ–¥—Ä–∞–±–æ—Ç–∫–∞","–í–∞—Ö—Ç–∞"];

  // ===== –í–ê–ö–ê–ù–°–ò–ò (–º–æ–∂–µ—à—å –º–µ–Ω—è—Ç—å –ø–æ–¥ —Å–µ–±—è) =====
  const jobs = [
    {
      id:"j1",
      title:"–†–∞–∑–Ω–æ—Ä–∞–±–æ—á–∏–π –Ω–∞ –æ–±—ä–µ–∫—Ç",
      profession:"–†–∞–∑–Ω–æ—Ä–∞–±–æ—á–∏–π",
      pay:3500, payType:"–∑–∞ —Å–º–µ–Ω—É",
      type:"–ü–æ–ª–Ω—ã–π –¥–µ–Ω—å",
      place:"–ú–æ—Å–∫–≤–∞",
      vakh:false, housing:false, meals:false,
      about:"–ü–æ–¥—Å–æ–±–Ω—ã–µ —Ä–∞–±–æ—Ç—ã, —Ä–∞–∑–≥—Ä—É–∑–∫–∞/–ø–æ–≥—Ä—É–∑–∫–∞, —É–±–æ—Ä–∫–∞, –ø–µ—Ä–µ–Ω–æ—Å –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤.",
      requirements:["–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ñ–∏–∑. —Ä–∞–±–æ—Ç–µ","–ü—É–Ω–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å","–°–æ–±–ª—é–¥–∞—Ç—å —Ç–µ—Ö–Ω–∏–∫—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏"],
      documents:["–ü–∞—Å–ø–æ—Ä—Ç (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"],
      img:"images/portrait_raborab.png"
    },
    {
      id:"j2",
      title:"–ü–ª–∏—Ç–æ—á–Ω–∏–∫ (—Å–∞–Ω—É–∑–ª—ã)",
      profession:"–ü–ª–∏—Ç–æ—á–Ω–∏–∫",
      pay:6000, payType:"–∑–∞ —Å–º–µ–Ω—É",
      type:"–ü–æ–ª–Ω—ã–π –¥–µ–Ω—å",
      place:"–ú–æ—Å–∫–≤–∞",
      vakh:false, housing:false, meals:false,
      about:"–£–∫–ª–∞–¥–∫–∞ –ø–ª–∏—Ç–∫–∏/–∫–µ—Ä–∞–º–æ–≥—Ä–∞–Ω–∏—Ç–∞, –∑–∞—Ç–∏—Ä–∫–∞, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏—è.",
      requirements:["–û–ø—ã—Ç –æ—Ç 1 –≥–æ–¥–∞","–ê–∫–∫—É—Ä–∞—Ç–Ω–æ—Å—Ç—å","–£–º–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ —É—Ä–æ–≤–Ω—é"],
      documents:["–ü–∞—Å–ø–æ—Ä—Ç (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)","–ò–ù–ù/–°–ù–ò–õ–° (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ)"],
      img:"images/portrait_tile.png"
    },
    {
      id:"j3",
      title:"–≠–ª–µ–∫—Ç—Ä–∏–∫ (–º–æ–Ω—Ç–∞–∂)",
      profession:"–≠–ª–µ–∫—Ç—Ä–∏–∫",
      pay:7000, payType:"–∑–∞ —Å–º–µ–Ω—É",
      type:"–ü–æ–ª–Ω—ã–π –¥–µ–Ω—å",
      place:"–ú–æ—Å–∫–≤–∞",
      vakh:false, housing:false, meals:false,
      about:"–ü—Ä–æ–∫–ª–∞–¥–∫–∞ –∫–∞–±–µ–ª—è, –º–æ–Ω—Ç–∞–∂ —â–∏—Ç–∫–æ–≤, —Ä–æ–∑–µ—Ç–æ–∫/—Å–≤–µ—Ç–∞, –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–Ω–∏–π.",
      requirements:["–û–ø—ã—Ç –ø–æ —ç–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂—É","–£–º–µ–Ω–∏–µ —á–∏—Ç–∞—Ç—å —Å—Ö–µ–º—É (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ)","–ê–∫–∫—É—Ä–∞—Ç–Ω–æ—Å—Ç—å"],
      documents:["–ü–∞—Å–ø–æ—Ä—Ç (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)","–£–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏–µ/–¥–æ–ø—É—Å–∫ (–µ—Å–ª–∏ –µ—Å—Ç—å)"],
      img:"images/portrait_electric.png"
    },
    {
      id:"j4",
      title:"–°–∞–Ω—Ç–µ—Ö–Ω–∏–∫ (–º–æ–Ω—Ç–∞–∂/—Ä–µ–º–æ–Ω—Ç)",
      profession:"–°–∞–Ω—Ç–µ—Ö–Ω–∏–∫",
      pay:6500, payType:"–∑–∞ —Å–º–µ–Ω—É",
      type:"–ü–æ–ª–Ω—ã–π –¥–µ–Ω—å",
      place:"–ú–æ—Å–∫–≤–∞",
      vakh:false, housing:false, meals:false,
      about:"–†–∞–∑–≤–æ–¥–∫–∞, –º–æ–Ω—Ç–∞–∂ —Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∏, —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ç–µ—á–µ–∫, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ.",
      requirements:["–û–ø—ã—Ç –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω","–£–º–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø–æ–ª–∏–ø—Ä–æ–ø–∏–ª–µ–Ω–æ–º/–º–µ—Ç–∞–ª–ª–æ–ø–ª–∞—Å—Ç–æ–º","–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å"],
      documents:["–ü–∞—Å–ø–æ—Ä—Ç (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)","–ò–ù–ù/–°–ù–ò–õ–° (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ)"],
      img:"images/portrait_plumber.png"
    },
    {
      id:"j5",
      title:"–ú–∞–ª—è—Ä/—à—Ç—É–∫–∞—Ç—É—Ä",
      profession:"–ú–∞–ª—è—Ä",
      pay:5000, payType:"–∑–∞ —Å–º–µ–Ω—É",
      type:"–ü–æ–ª–Ω—ã–π –¥–µ–Ω—å",
      place:"–ú–æ—Å–∫–≤–∞",
      vakh:false, housing:false, meals:false,
      about:"–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ç–µ–Ω, —à–ø–∞–∫–ª—ë–≤–∫–∞, –ø–æ–∫—Ä–∞—Å–∫–∞, —É–∫—Ä—ã—Ç–∏–µ –ø–ª—ë–Ω–∫–æ–π.",
      requirements:["–û–ø—ã—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è","–ê–∫–∫—É—Ä–∞—Ç–Ω–æ—Å—Ç—å","–°–æ–±–ª—é–¥–∞—Ç—å —á–∏—Å—Ç–æ—Ç—É"],
      documents:["–ü–∞—Å–ø–æ—Ä—Ç (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"],
      img:"images/portrait_painter.png"
    },
    {
      id:"j6",
      title:"–í–∞—Ö—Ç–∞: —Ä–∞–∑–Ω–æ—Ä–∞–±–æ—á–∏–π (—Å –ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ–º –∏ –ø–∏—Ç–∞–Ω–∏–µ–º)",
      profession:"–†–∞–∑–Ω–æ—Ä–∞–±–æ—á–∏–π",
      pay:90000, payType:"–≤ –º–µ—Å—è—Ü",
      type:"–í–∞—Ö—Ç–∞",
      place:"–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª.",
      vakh:true, housing:true, meals:true,
      about:"–ü–æ–¥—Å–æ–±–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –Ω–∞ –æ–±—ä–µ–∫—Ç–µ. –ü—Ä–æ–∂–∏–≤–∞–Ω–∏–µ –∏ –ø–∏—Ç–∞–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è.",
      requirements:["–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –≤–∞—Ö—Ç–µ 30/15 (–ø—Ä–∏–º–µ—Ä)","–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞","–°–æ–±–ª—é–¥–∞—Ç—å —Ç–µ—Ö–Ω–∏–∫—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏"],
      documents:["–ü–∞—Å–ø–æ—Ä—Ç (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)","–ú–µ–¥–∫–Ω–∏–∂–∫–∞/—Å–ø—Ä–∞–≤–∫–∏ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É—é—Ç—Å—è –Ω–∞ –æ–±—ä–µ–∫—Ç–µ)"],
      img:"images/scene_site.png"
    },
    {
      id:"j7",
      title:"–í–∞—Ö—Ç–∞: –º–æ–Ω—Ç–∞–∂–Ω–∏–∫ (–ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ –µ—Å—Ç—å)",
      profession:"–ú–æ–Ω—Ç–∞–∂–Ω–∏–∫",
      pay:110000, payType:"–≤ –º–µ—Å—è—Ü",
      type:"–í–∞—Ö—Ç–∞",
      place:"–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª.",
      vakh:true, housing:true, meals:false,
      about:"–ú–æ–Ω—Ç–∞–∂/—Å–±–æ—Ä–∫–∞, —Ä–∞–±–æ—Ç–∞ —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º. –ü—Ä–æ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è.",
      requirements:["–û–ø—ã—Ç —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º","–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –≤–∞—Ö—Ç–µ","–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å"],
      documents:["–ü–∞—Å–ø–æ—Ä—Ç (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)","–ò–ù–ù/–°–ù–ò–õ–° (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ)"],
      img:"images/scene_quality.png"
    }
  ];

  const $ = (sel)=>document.querySelector(sel);
  const $$ = (sel)=>Array.from(document.querySelectorAll(sel));
  const fmtMoney = (n)=> new Intl.NumberFormat("ru-RU").format(n)+" ‚ÇΩ";
  const escapeHtml = (s)=> String(s)
    .replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;")
    .replaceAll('"',"&quot;").replaceAll("'","&#039;");

  const toast = (title, msg)=>{
    const root = $("#toast");
    const el = document.createElement("div");
    el.className = "t";
    el.innerHTML = `<div class="bar" aria-hidden="true"></div><div><strong>${escapeHtml(title)}</strong><p>${escapeHtml(msg)}</p></div>`;
    root.appendChild(el);
    setTimeout(()=>{ el.style.opacity="0"; el.style.transform="translateY(4px)"; }, 2600);
    setTimeout(()=>{ el.remove(); }, 3100);
  };

  // ===== NAV
  const state = {
    page:"home",
    q:"",
    profession:"–í—Å–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏",
    employmentType:"–í—Å–µ —Ç–∏–ø—ã",
    sort:"pay_desc",
    fVakh:false,
    fHousing:false,
    fMeals:false,
    selectedJobId:null
  };

  function showPage(page){
    state.page = page;
    ["home","jobs","apply","contacts"].forEach(p=>{
      $("#page-"+p).classList.toggle("hide", p!==page);
    });
    $$("nav button[data-page]").forEach(b=> b.classList.toggle("active", b.dataset.page===page));

    if(page==="jobs") renderJobs();
    if(page==="apply") renderApplies();

    window.scrollTo({top:0, behavior:"smooth"});
  }

  $$("nav button[data-page]").forEach(b=> b.addEventListener("click", ()=>showPage(b.dataset.page)));
  $$("[data-page]").forEach(el=>{
    if(el.tagName.toLowerCase()!=="button") return;
    if(el.closest("nav")) return;
    el.addEventListener("click", ()=> showPage(el.dataset.page));
  });
  $("#brandGoHome").addEventListener("click",(e)=>{ e.preventDefault(); showPage("home"); });

  // ===== FILTERS INIT
  function initFilters(){
    $("#profession").innerHTML = professionList.map(p=>`<option value="${escapeHtml(p)}">${escapeHtml(p)}</option>`).join("");
    $("#employmentType").innerHTML = typeList.map(t=>`<option value="${escapeHtml(t)}">${escapeHtml(t)}</option>`).join("");
    $("#aProf").innerHTML = professionList.slice(1).map(p=>`<option value="${escapeHtml(p)}">${escapeHtml(p)}</option>`).join("");

    const chips = $("#chips");
    chips.innerHTML = professionList.map((p,i)=>`
      <button class="chip ${i===0?"active":""}" data-chip="${escapeHtml(p)}">${i===0?"–í—Å–µ":"üõ†Ô∏è "+escapeHtml(p)}</button>
    `).join("");

    chips.addEventListener("click",(e)=>{
      const b = e.target.closest(".chip"); if(!b) return;
      $$(".chip").forEach(x=>x.classList.remove("active"));
      b.classList.add("active");
      state.profession = b.dataset.chip;
      $("#profession").value = state.profession;
      renderJobs();
    });
  }

  $("#q").addEventListener("input",(e)=>{ state.q=e.target.value; renderJobs(); });
  $("#profession").addEventListener("change",(e)=>{
    state.profession = e.target.value;
    $$(".chip").forEach(c=>c.classList.toggle("active", c.dataset.chip===state.profession));
    renderJobs();
  });
  $("#employmentType").addEventListener("change",(e)=>{ state.employmentType = e.target.value; renderJobs(); });
  $("#sort").addEventListener("change",(e)=>{ state.sort=e.target.value; renderJobs(); });

  $("#fVakh").addEventListener("change",(e)=>{ state.fVakh = e.target.checked; renderJobs(); });
  $("#fHousing").addEventListener("change",(e)=>{ state.fHousing = e.target.checked; renderJobs(); });
  $("#fMeals").addEventListener("change",(e)=>{ state.fMeals = e.target.checked; renderJobs(); });

  $("#resetFilters").addEventListener("click", ()=>{
    state.q=""; state.profession="–í—Å–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏"; state.employmentType="–í—Å–µ —Ç–∏–ø—ã";
    state.sort="pay_desc"; state.fVakh=false; state.fHousing=false; state.fMeals=false;

    $("#q").value=""; $("#profession").value="–í—Å–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏"; $("#employmentType").value="–í—Å–µ —Ç–∏–ø—ã"; $("#sort").value="pay_desc";
    $("#fVakh").checked=false; $("#fHousing").checked=false; $("#fMeals").checked=false;
    $$(".chip").forEach((c,i)=>c.classList.toggle("active", i===0));

    toast("–°–±—Ä–æ—Å", "–§–∏–ª—å—Ç—Ä—ã —Å–±—Ä–æ—à–µ–Ω—ã.");
    renderJobs();
  });

  // ===== JOBS RENDER
  function matches(job){
    const q = state.q.trim().toLowerCase();
    if(state.profession!=="–í—Å–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏" && job.profession!==state.profession) return false;
    if(state.employmentType!=="–í—Å–µ —Ç–∏–ø—ã" && job.type!==state.employmentType) return false;
    if(state.fVakh && !job.vakh) return false;
    if(state.fHousing && !job.housing) return false;
    if(state.fMeals && !job.meals) return false;

    if(!q) return true;
    const hay = (job.title+" "+job.profession+" "+job.type+" "+job.place+" "+job.about+" "
      + (job.requirements||[]).join(" ") + " " + (job.documents||[]).join(" ")
    ).toLowerCase();
    return hay.includes(q);
  }

  function sortJobs(arr){
    const s = state.sort;
    const list = [...arr];
    if(s==="pay_desc") list.sort((a,b)=> b.pay-a.pay);
    else if(s==="pay_asc") list.sort((a,b)=> a.pay-b.pay);
    else list.sort((a,b)=> (a.type||"").localeCompare(b.type||"") || b.pay-a.pay);
    return list;
  }

  function perksBadges(job){
    const out = [];
    if(job.vakh) out.push("üß≥ –í–∞—Ö—Ç–∞");
    if(job.housing) out.push("üè† –ü—Ä–æ–∂–∏–≤–∞–Ω–∏–µ");
    if(job.meals) out.push("üç≤ –ü–∏—Ç–∞–Ω–∏–µ");
    return out;
  }

  function renderJobs(){
    const visible = sortJobs(jobs.filter(matches));
    $("#countJobs").textContent = String(jobs.length);
    $("#shownJobs").textContent = String(visible.length);

    if(visible.length){
      const pays = visible.map(x=>x.pay).sort((a,b)=>a-b);
      $("#minMax").textContent = `${fmtMoney(pays[0])} ‚Äî ${fmtMoney(pays[pays.length-1])}`;
    } else {
      $("#minMax").textContent = "‚Äî";
    }

    const grid = $("#jobsGrid");
    grid.innerHTML = visible.map((j,idx)=>`
      <article class="card">
        <div class="img" style="background-image:url('${escapeHtml(j.img || images.jobsFallback[idx%images.jobsFallback.length])}')" role="img"></div>
        <div class="body">
          <div class="row">
            <div>
              <p class="name">${escapeHtml(j.title)}</p>
              <p class="meta">${escapeHtml(j.profession)} ‚Ä¢ ${escapeHtml(j.place)} ‚Ä¢ ${escapeHtml(j.type)}</p>
            </div>
            <div class="pill"><span class="dot"></span> <b>${fmtMoney(j.pay)}</b> <span class="muted">${escapeHtml(j.payType)}</span></div>
          </div>

          <p class="tagline">${escapeHtml(j.about)}</p>

          <div class="kpis">
            ${perksBadges(j).map(x=>`<span class="kpi">${escapeHtml(x)}</span>`).join("")}
            <span class="kpi">üìÑ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è: <b>${(j.requirements||[]).length}</b></span>
            <span class="kpi">ü™™ –î–æ–∫—É–º–µ–Ω—Ç—ã: <b>${(j.documents||[]).length}</b></span>
          </div>

          <div class="actions">
            <button class="btn small primary" data-open="${escapeHtml(j.id)}">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
            <button class="btn small good" data-apply="${escapeHtml(j.id)}">–û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è</button>
            <button class="btn small" data-page="contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</button>
          </div>
        </div>
      </article>
    `).join("");

    grid.querySelectorAll("[data-open]").forEach(b=> b.addEventListener("click", ()=> openJob(b.dataset.open)));
    grid.querySelectorAll("[data-apply]").forEach(b=> b.addEventListener("click", ()=> { selectJobAndGoApply(b.dataset.apply); }));

    // rates table (by pay asc)
    const tbody = $("#ratesBody");
    const byPay = [...jobs].sort((a,b)=> a.pay-b.pay);
    tbody.innerHTML = byPay.map(j=>`
      <tr>
        <td><b>${escapeHtml(j.profession)}</b></td>
        <td>${escapeHtml(j.type)}</td>
        <td class="money">${fmtMoney(j.pay)} ${escapeHtml(j.payType)}</td>
        <td>${escapeHtml(j.place)}</td>
        <td>${j.vakh ? "‚úÖ" : "‚Äî"}</td>
        <td>${j.housing ? "‚úÖ" : "‚Äî"}</td>
        <td>${j.meals ? "‚úÖ" : "‚Äî"}</td>
      </tr>
    `).join("");
  }

  // ===== APPLY: auto transfer vacancy -> form
  function setApplyBanner(job){
    const banner = $("#applyBanner");
    if(!job){
      banner.classList.add("hide");
      $("#applyJobTitle").textContent = "–í—ã –æ—Ç–∫–ª–∏–∫–∞–µ—Ç–µ—Å—å –Ω–∞: ‚Äî";
      $("#applyJobMeta").textContent = "‚Äî";
      $("#selectedJobId").value = "";
      state.selectedJobId = null;
      return;
    }
    banner.classList.remove("hide");
    $("#applyJobTitle").textContent = `–í—ã –æ—Ç–∫–ª–∏–∫–∞–µ—Ç–µ—Å—å –Ω–∞: ${job.title}`;
    const perks = perksBadges(job).join(" ‚Ä¢ ") || "–±–µ–∑ –≤–∞—Ö—Ç—ã/–ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è/–ø–∏—Ç–∞–Ω–∏—è";
    $("#applyJobMeta").textContent = `${job.profession} ‚Ä¢ ${job.place} ‚Ä¢ ${job.type} ‚Ä¢ ${fmtMoney(job.pay)} ${job.payType} ‚Ä¢ ${perks}`;
    $("#selectedJobId").value = job.id;
    state.selectedJobId = job.id;
  }

  function selectJobAndGoApply(jobId){
    const job = jobs.find(x=>x.id===jobId);
    if(!job) return;
    setApplyBanner(job);

    // –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã
    $("#aProf").value = job.profession;
    $("#aType").value = job.type;
    // –ø–æ–¥—Å–∫–∞–∑–∫–∞ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
    const want = [];
    if(job.vakh) want.push("–≤–∞—Ö—Ç–∞");
    if(job.housing) want.push("–ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ");
    if(job.meals) want.push("–ø–∏—Ç–∞–Ω–∏–µ");
    const hint = want.length ? `–ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç: ${want.join(", ")}.` : "–ì–æ—Ç–æ–≤(–∞) –∫ —Ä–∞–±–æ—Ç–µ.";
    if(!$("#aAbout").value.trim()){
      $("#aAbout").value = hint + " ";
    }

    toast("–ì–æ—Ç–æ–≤–æ", "–í–∞–∫–∞–Ω—Å–∏—è –ø–µ—Ä–µ–Ω–µ—Å–ª–∞—Å—å –≤ —Ñ–æ—Ä–º—É ‚Äî –æ—Å—Ç–∞–ª–æ—Å—å –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω.");
    showPage("apply");
  }

  $("#clearSelectedJob").addEventListener("click", ()=>{
    setApplyBanner(null);
    toast("–û–∫", "–í—ã–±—Ä–∞–Ω–Ω–∞—è –≤–∞–∫–∞–Ω—Å–∏—è —Å–Ω—è—Ç–∞.");
  });

  // ===== Applies storage
  function loadApplies(){
    try{
      const raw = localStorage.getItem(APPLIES_KEY);
      const arr = raw ? JSON.parse(raw) : [];
      return Array.isArray(arr) ? arr : [];
    } catch { return []; }
  }
  function saveApplies(arr){ localStorage.setItem(APPLIES_KEY, JSON.stringify(arr)); }

  function renderApplies(){
    // –æ–±–Ω–æ–≤–∏–º –±–∞–Ω–Ω–µ—Ä, –µ—Å–ª–∏ –±—ã–ª –≤—ã–±—Ä–∞–Ω jobId
    if(state.selectedJobId){
      const j = jobs.find(x=>x.id===state.selectedJobId);
      setApplyBanner(j || null);
    }

    const list = loadApplies();
    const body = $("#appliesBody");
    body.innerHTML = list.map(a=>`
      <tr>
        <td><b>${escapeHtml(a.name)}</b></td>
        <td>${escapeHtml(a.phone)}</td>
        <td>${escapeHtml(a.jobTitle || "‚Äî")}</td>
        <td>${escapeHtml(a.prof)}</td>
        <td>${escapeHtml(a.exp)}</td>
        <td>${escapeHtml(a.city)}</td>
        <td>${escapeHtml(a.type)}</td>
        <td>${escapeHtml(a.start)}</td>
        <td>${escapeHtml(managers[a.mgr]?.name || "‚Äî")}</td>
      </tr>
    `).join("");
  }

  $("#fillApplyDemo").addEventListener("click", ()=>{
    $("#aName").value = "–ü–µ—Ç—Ä–æ–≤ –ü—ë—Ç—Ä –ü–µ—Ç—Ä–æ–≤–∏—á";
    $("#aPhone").value = "+7 999 111-22-33";
    $("#aEmail").value = "worker@mail.ru";
    $("#aProf").value = "–†–∞–∑–Ω–æ—Ä–∞–±–æ—á–∏–π";
    $("#aExp").value = "2 –≥–æ–¥–∞";
    $("#aCity").value = "–ú–æ—Å–∫–≤–∞";
    $("#aType").value = "–í–∞—Ö—Ç–∞";
    $("#aStart").value = "–ó–∞–≤—Ç—Ä–∞";
    $("#aMgr").value = "maxim";
    $("#aAbout").value = "–ì–æ—Ç–æ–≤ –Ω–∞ –≤–∞—Ö—Ç—É, –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–∞ —Ä—É–∫–∞—Ö, –æ–ø—ã—Ç –Ω–∞ –æ–±—ä–µ–∫—Ç–∞—Ö.";
    // –∏ –≤—ã–±–µ—Ä–µ–º –≤–∞–∫–∞–Ω—Å–∏—é j6
    selectJobAndGoApply("j6");
  });

  $("#applyForm").addEventListener("submit", (e)=>{
    e.preventDefault();
    const jobId = $("#selectedJobId").value || "";
    const job = jobId ? jobs.find(x=>x.id===jobId) : null;

    const payload = {
      jobId,
      jobTitle: job ? job.title : "",
      name: $("#aName").value.trim(),
      phone: $("#aPhone").value.trim(),
      email: $("#aEmail").value.trim(),
      prof: $("#aProf").value,
      exp: $("#aExp").value,
      city: $("#aCity").value.trim(),
      type: $("#aType").value,
      start: $("#aStart").value,
      mgr: $("#aMgr").value,
      about: $("#aAbout").value.trim(),
      ts: Date.now()
    };

    if(!payload.name || !payload.phone || !payload.prof || !payload.exp || !payload.city){
      toast("–û—à–∏–±–∫–∞", "–ó–∞–ø–æ–ª–Ω–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è.");
      return;
    }

    const list = loadApplies();
    list.unshift(payload);
    saveApplies(list);

    const m = managers[payload.mgr] || managers.maxim;
    toast("–û—Ç–∫–ª–∏–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω", `–ú–µ–Ω–µ–¥–∂–µ—Ä: ${m.name}. –ú—ã —Å–≤—è–∂–µ–º—Å—è –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É.`);

    $("#applyForm").reset();
    // –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∞–∫–∞–Ω—Å–∏—é –æ—Å—Ç–∞–≤–∏–º (–∏–ª–∏ –º–æ–∂–Ω–æ —Å–Ω—è—Ç—å ‚Äî –∫–∞–∫ —Ö–æ—á–µ—à—å)
    if(job) setApplyBanner(job);
    renderApplies();
    showPage("contacts");
  });

  $("#clearApplies").addEventListener("click", ()=>{
    localStorage.removeItem(APPLIES_KEY);
    toast("–ì–æ—Ç–æ–≤–æ", "–û—Ç–∫–ª–∏–∫–∏ –æ—á–∏—â–µ–Ω—ã.");
    renderApplies();
  });

  // ===== Modal job
  let currentJobId = null;

  function buildManagerLinks(managerKey, jobTitle){
    const m = managers[managerKey] || managers.maxim;
    const text = encodeURIComponent(`–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –•–æ—á—É –æ—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏—é: ${jobTitle}.`);
    return { call:`tel:${m.phone}`, wa: m.wa + `?text=${text}`, tg:m.tg };
  }

  function openJob(id){
    const j = jobs.find(x=>x.id===id);
    if(!j) return;
    currentJobId = id;

    $("#modalPhoto").style.backgroundImage = `url('${j.img || images.hero}')`;
    $("#modalTitle").textContent = j.title;
    $("#modalSub").textContent = `${j.profession} ‚Ä¢ ${j.place} ‚Ä¢ ${j.type}`;

    const perks = [];
    if(j.vakh) perks.push("üß≥ –í–∞—Ö—Ç–∞");
    if(j.housing) perks.push("üè† –ü—Ä–æ–∂–∏–≤–∞–Ω–∏–µ");
    if(j.meals) perks.push("üç≤ –ü–∏—Ç–∞–Ω–∏–µ");

    $("#modalKpis").innerHTML = `
      <span class="kpi">üí∞ <b>${fmtMoney(j.pay)}</b> ${escapeHtml(j.payType)}</span>
      <span class="kpi">üìç ${escapeHtml(j.place)}</span>
      <span class="kpi">üïí ${escapeHtml(j.type)}</span>
      ${perks.map(x=>`<span class="kpi">${escapeHtml(x)}</span>`).join("")}
    `;

    $("#modalAbout").textContent = j.about;

    $("#modalReq").innerHTML = (j.requirements || ["‚Äî"]).map(x=>`<li>${escapeHtml(x)}</li>`).join("");
    $("#modalDocs").innerHTML = (j.documents || ["‚Äî"]).map(x=>`<li>${escapeHtml(x)}</li>`).join("");

    const key = $("#managerSelect").value || "maxim";
    const links = buildManagerLinks(key, j.title);
    $("#mgrCallBtn").href = links.call;
    $("#mgrWaBtn").href = links.wa;
    $("#mgrTgBtn").href = links.tg;

    const back = $("#modalBackdrop");
    const modal = $("#modal");
    back.style.display="flex";
    requestAnimationFrame(()=> modal.classList.add("show"));
    back.setAttribute("aria-hidden","false");
  }

  function closeModal(){
    const back = $("#modalBackdrop");
    const modal = $("#modal");
    modal.classList.remove("show");
    setTimeout(()=>{
      back.style.display="none";
      back.setAttribute("aria-hidden","true");
      currentJobId=null;
    },140);
  }

  $("#modalBackdrop").addEventListener("click",(e)=>{ if(e.target.id==="modalBackdrop") closeModal(); });
  $("#closeModal").addEventListener("click", closeModal);
  document.addEventListener("keydown",(e)=>{ if(e.key==="Escape") closeModal(); });

  $("#managerSelect").addEventListener("change", ()=>{
    if(!currentJobId) return;
    const j = jobs.find(x=>x.id===currentJobId);
    if(!j) return;
    const key = $("#managerSelect").value || "maxim";
    const links = buildManagerLinks(key, j.title);
    $("#mgrCallBtn").href = links.call;
    $("#mgrWaBtn").href = links.wa;
    $("#mgrTgBtn").href = links.tg;
    toast("–ú–µ–Ω–µ–¥–∂–µ—Ä –≤—ã–±—Ä–∞–Ω", managers[key].name);
  });

  $("#goApplyBtn").addEventListener("click", ()=>{
    const j = jobs.find(x=>x.id===currentJobId);
    closeModal();
    if(j) selectJobAndGoApply(j.id);
  });

  // ===== Start
  $("#heroImg").style.backgroundImage = `url('${images.hero}')`;
  initFilters();
  $("#countJobs").textContent = String(jobs.length);
  showPage("home");
</script>
</body>
</html>
